define(["moudelRoute"],function(e){e.run(["$rootScope","$state","$location","$log","indexservice","authservice",function(e,o,t,n,r,a){var i=r();i.InitEvent(),e.$on("$stateChangeError",function(e,o,t,r,a,i){n.error("An error occurred while changing states: "+i),n.debug("event",e),n.debug("toState",o),n.debug("toParams",t),n.debug("fromState",r),n.debug("fromParams",a)}),e.$on("$stateChangeStart",function(e,o,n){a.checkAuth(e,function(o){return o?t.absUrl().toLowerCase().indexOf("login")>=0?(e.preventDefault(),void(window.location.href="../#/index")):void console.log("current url : "+t.absUrl()):(console.log("login state is empty"),void(t.absUrl().toLowerCase().indexOf("login")>=0||(e.preventDefault(),window.location.href="../#/login")))})}),e.$on("$stateChangeSuccess",function(e,o,t,n,r){}),e.$on("$stateNotFound",function(e,o,t,r){n.error("The request state was not found: "+o)})}])});